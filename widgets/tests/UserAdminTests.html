<!DOCTYPE html>
<html>
    <head>
        <title>UserAdmin Widget Tests</title>

        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <link rel="stylesheet" href="../../resources/authentication/UserAdmin.css">
        <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.css">
        <link rel="stylesheet" href="../../bower_components/dijit/themes/claro/claro.css">

        <script type="text/javascript">
            var projectUrl = location.pathname.replace(/\/[^\/]+$/, '') + '/';
            window.dojoConfig = {
                packages: [{
                    name: 'ijit',
                    location: projectUrl + '../../'
                },{
                    name: 'jquery',
                    location: projectUrl + '../../bower_components/jquery/dist/',
                    main: 'jquery'
                },{
                    name: 'bootstrap',
                    location: projectUrl + '../../bower_components/bootstrap/dist/js',
                    main: 'bootstrap'
                },{
                    name: 'esri',
                    location: projectUrl + '../../vendor/esri/'
                },{
                    name: 'ladda',
                    location: projectUrl + '../../bower_components/ladda-bootstrap',
                    main: 'dist/ladda'
                }]
            };
        </script>
        <script type="text/javascript" src="../../bower_components/dojo/dojo.js"></script>

        <script type="text/javascript">
            require([
                    'jquery',

                    'ijit/widgets/authentication/UserAdmin',

                    'dojo/domReady!'
                ],

                function(
                    $,
                    UserAdmin
                ) {
                    var testWidget = new UserAdmin({
                        title: 'Unit Tests',
                        appName: 'unittests'
                    }, 'testdiv');
                    testWidget.startup();

                    // fake login so that I don't have to type in my password every time
                    // setTimeout(function() {
                    //     testWidget.login.signInPane.onSubmitReturn({
                    //         result: {
                    //             user: {
                    //                 name: 'Scott Davis',
                    //                 adminToken: 'admin-token-value'
                    //             },
                    //             token: {
                    //                 token: 'tokenstring',
                    //                 expires: 1381415260000
                    //             }
                    //         }
                    //     });
                    // }, 500);
                }); 
        </script>
    </head>
    <body>
        <div id="testdiv"></div>
    </body>
</html>