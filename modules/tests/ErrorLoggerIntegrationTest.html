<!DOCTYPE html">
<html>
	<head>
		<title>Error Logger Tests</title>
		<!-- META TAGS -->
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="jasmine-1.0.1/jasmine.css">
		<!-- JAVASCRIPT -->
		<script type='text/javascript'>
			djConfig = {
				isDebug : true,
				debugAtAllCosts : true,
				parseOnLoad : true,
				baseUrl : './',
				modulePaths : {
					"ijit" : "../../"
				}
			};

		</script>
		<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/dojo/1.6.1/dojo/dojo.xd.js'></script>
		<script type="text/javascript" src="jasmine-1.0.1/jasmine.js"></script>
		<script type="text/javascript" src="jasmine-1.0.1/jasmine-html.js"></script>
		<script type='text/javascript' src='spec/ErrorLoggerSpec.js'></script>
		<script type='text/javascript'>
			/*global dojo, console, jasmine, ijit*/
			dojo.require("ijit.modules.ErrorLogger");

			var logger;
			function init() {
				console.info('init', arguments);

				logger = new ijit.modules.ErrorLogger({
					appName: 'Error Logger Tests'
				});
				
				dojo.connect(dojo.byId('logBtn'), 'onclick', function(){
					try {
						parseInt(a, 10);
					} catch (e){
						logger.log(e, 'Other Data', true);
					}
				});
				dojo.connect(dojo.byId('logBtn2'), 'onclick', function(){
					try {
						parseInt(a, 10);
					} catch (e){
						logger.log(e, 'Other Data', false);
					}
				});
			}


			dojo.ready(init);

		</script>
	</head>
	<body>
		<button id='logBtn'>Send Log with Email</button>
		<button id='logBtn2'>Send Log without Email</button>
	</body>
</html>
